<!--
 * @Author: Richard Chiang
 * @Date: 2021-03-22 10:18:40
 * @LastEditor: Richard Chiang
 * @LastEditTime: 2021-03-22 10:49:53
 * @Email: 19875991227@163.com
 * @Description: 
-->
## 简介
网络是使用 TCP/IP 协议族上运行的。  
TCP/IP 协议族确定了通信方式，从哪端开始通信等等。

## 分层
TCP/IP 协议族主要用四层：
1. 应用层，该层提供了通信所需要使用的基础服务，比如 HTTP、FTP、DNS
2. 传输层，该层确层数据包以哪种方式传输，在传输层的服务有 TCP、UDP（TCP 是基于连接的协议、UCP 是基于非连接的协议）
3. 网络层，该层主要负责数据包的处理，在该层的服务有 IP、ARP 协议
4. 数据链路层，该层主要是一些硬件。如网卡、路由等。  

## 数据发送、接收过程
数据发送过程  
1. 发送端消息在经过传输层层时，新增 TCP 包首部  
2. 发送端消息在经过网络层时，新增 IP 包首部
3. 发送端消息在经过数据链路层时，附加以太网首部  

数据接受过程  
数据发送过程的每一个新加的首部剥离

## TCP 三次握手
1. 消息发送端向接收端发送一个带有 <code>SYN</code> 标志的数据包，表示连接开始  
2. 消息接收端接收到数据包之后，返回一个带有 <code>SYN/ACK</code> 标志的数据包，表示数据接收成功  
3. 消息发送端再次发送一个带有 <code>ACK</code> 标志的数据包，表示握手过程结束

## TCP 四次挥手  
1. 消息发送端打算关闭连接，会发送一个带有 <code>FIN</code> 标志的报文  
2. 消息接收端收到报文之后，就会向客户端发送带有 <code>ACK</code> 的应答报文  
3. 消息接收端处理完数据之后，再向发送端发送带有 <code>FIN</code> 标志的报文  
4. 客户端收到服务端的 <code>FIN</code> 报文后，回应一个 <code>ACK</code> 应答报文


