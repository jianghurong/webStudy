## 内存管理
### 简介
像c语言这样的底层语言一般都有底层的内存管理接口，比如 ```malloc``` 和 ```free``` 方法。
```javaScript``` 是在创建变量时自动进行了内存分配，并且在不使用它们时自动释放。释放的过程称为垃圾回收。  

### 内存生命周期
1. 分配你所需的内存
2. 使用分配到的内存
3. 不需要时将其释放

### javaScript的内存分配
值的初始化  
```javaScript``` 在定义变量时就完成了内存分配  
```js
let n = 1 // 给数值分配内存
```
函数调用分配内存
```js
let date = new Date()
let ele = document.createElement('p')
```
当内存不需要使用时释放
大多数内存管理的问题都在这个阶段。在这里最艰难的任务是找到“哪些被分配的内存确实已经不再需要了”。它往往要求开发人员来确定程序中哪一块内存不需要并且释放它。  
高级语言解释器嵌入了“垃圾回收器”，它的主要工作是跟踪内存的分配和使用，以便当分配的内存不再使用时，自动释放它。

## 垃圾回收
### 引用计数垃圾回收
依赖于引用的概念。在内存管理的环境中，一个对象如果有访问另一个对象的权限，叫做一个对象引用另一个对象。例如，一个```JavaScript```对象具有对它原型的引用（隐式）和对它属性的引用（显式）。  
此算法把“对象是否不再需要”简化定义为“对象有没有其它对象引用到它”。如果没有引用指向该对象（零引用），对象会被垃圾回收机制回收。
```js
let o = {
    a: {
        b: 2
    }
} // 两个对象被创建，一个作为另一个的属性被引用，另一个被分配给变量o
let o2 = o // o2引用对象
o = 1 // 现在这个对象只有一个o2变量的引用了，这个对象的原始引用o已经被回收
let oa = 02.a // @TODO
```

